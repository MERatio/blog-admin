{"version":3,"sources":["lib/helpers.js","utils/Bus.js","components/BootstrapSpinner.js","components/Navbar.js","components/Flashes.js","lib/useIsMounted.js","components/LoadingBtn.js","components/PostCard.js","components/PostsCards.js","components/Posts.js","pages/PostsPage.js","components/SubmitBtn.js","components/PostForm.js","pages/NewPostPage.js","pages/EditPostPage.js","components/PostComment.js","components/PostComments.js","pages/PostPage.js","components/SignUpForm.js","pages/SignUpPage.js","components/SignInForm.js","pages/SignInPage.js","App.js","reportWebVitals.js","index.js"],"names":["getData","a","url","fetch","method","headers","Authorization","localStorage","getItem","response","json","window","flashes","msg","uploadData","data","body","JSON","stringify","putPostPublished","post","process","_id","published","deletePostComment","postId","postCommentId","handleExpressErr","err","message","EventEmitter","BootstrapSpinner","type","size","className","style","width","height","role","Navbar","user","signOut","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","exact","activeClassName","aria-haspopup","username","onClick","Flashes","onFlashDelete","map","flash","aria-hidden","useIsMounted","useState","isMounted","setIsMouted","useEffect","LoadingBtn","text","isLoading","loadingText","disabled","PostCard","handlePostPublishedUpdate","isUpdatingPostPublished","setIsUpdatingPostPublished","title","author","firstName","lastName","format","Date","createdAt","pluralize","comments","length","PostsCards","posts","Postcards","propTypes","PropTypes","array","isRequired","func","Posts","setPosts","isFetchingPosts","setIsFetchingPosts","errors","updatedPost","prevPosts","prevPost","fetchPosts","fetchAndSetPosts","minHeight","PostsPage","SubmitBtn","isSubmitting","defaultProps","PostForm","state","onInputChange","onSubmit","submitBtnText","htmlFor","name","value","onChange","required","maxLength","checked","NewPostPage","setState","setIsSubmitting","e","preventDefault","target","prevState","EditPostPage","useParams","history","useHistory","isFetchingEditPost","setIsFetchingEditPost","push","includes","status","fetchAndSetEditPost","PostComment","postComment","handlePostCommentDelete","isDeletingPostComment","setIsDeletingPostComment","PostComments","postComments","PostPage","isFetchingPost","setIsFetchingPost","setPost","isFetchingPostComments","setIsFetchingPostComments","updatePostComments","fetchPostComments","fetchPost","fetchAndSetPost","SignUpForm","password","confirmPassword","adminPasscode","handleInputChange","isAdminPasscodeRequired","userFormData","placeholder","pattern","minLength","SignUpPage","SignInForm","setUser","admin","setItem","token","SignInPage","App","setFlashes","Bus","addListener","flashesWithId","nanoid","emit","timeoutId","setTimeout","clearTimeout","fetchAndSetUser","removeItem","intervalId","setInterval","clearInterval","flashId","newFlashes","filter","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","dotenv","config","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da12d156.chunk.js","sourcesContent":["async function getData(url = '') {\n\ttry {\n\t\tconst response = await fetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t\t},\n\t\t});\n\t\treturn response.json();\n\t} catch (err) {\n\t\twindow.flashes([{ msg: 'Something went wrong, please try again later.' }]);\n\t}\n}\n\nasync function uploadData(method, url = '', data = {}) {\n\ttry {\n\t\tconst response = await fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t\treturn response.json();\n\t} catch (err) {\n\t\twindow.flashes([{ msg: 'Something went wrong, please try again later.' }]);\n\t}\n}\n\nasync function putPostPublished(post) {\n\ttry {\n\t\tconst data = await uploadData(\n\t\t\t'PUT',\n\t\t\t`${process.env.REACT_APP_API_URL}/posts/${post._id}`,\n\t\t\t{ ...post, published: !post.published }\n\t\t);\n\t\treturn data;\n\t} catch (err) {\n\t\twindow.flashes([{ msg: 'Something went wrong, please try again later.' }]);\n\t}\n}\n\nasync function deletePostComment(postId, postCommentId) {\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}/comments/${postCommentId}`,\n\t\t\t{\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\treturn response.json();\n\t} catch (err) {\n\t\twindow.flashes([{ msg: 'Something went wrong, please try again later.' }]);\n\t}\n}\n\nfunction handleExpressErr(err) {\n\twindow.flashes([{ msg: err.message }]);\n}\n\nexport {\n\tgetData,\n\tuploadData,\n\tputPostPublished,\n\tdeletePostComment,\n\thandleExpressErr,\n};\n","import EventEmitter from 'events';\n\nexport default new EventEmitter();\n","import PropTypes from 'prop-types';\nimport '../css/BootstrapSpinner.css';\n\nfunction BootstrapSpinner({ type, size }) {\n\treturn (\n\t\t<div className=\"BootstrapSpinner\">\n\t\t\t<div\n\t\t\t\tclassName={`spinner-${type} text-primary`}\n\t\t\t\tstyle={{ width: size, height: size }}\n\t\t\t\trole=\"status\"\n\t\t\t>\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nBootstrapSpinner.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\tsize: PropTypes.string.isRequired,\n};\n\nexport default BootstrapSpinner;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction Navbar({ user, signOut }) {\n\treturn (\n\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-primary sticky-top mb-4\">\n\t\t\t<NavLink to=\"/\" className=\"navbar-brand\">\n\t\t\t\tBlog User\n\t\t\t</NavLink>\n\t\t\t<button\n\t\t\t\tclassName=\"navbar-toggler\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\tdata-target=\"#navbarSupportedContent\"\n\t\t\t\taria-controls=\"navbarSupportedContent\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"Toggle navigation\"\n\t\t\t>\n\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t\t{user ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/posts\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPosts\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/posts/new\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd a new post\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className=\"nav-item dropdown\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link btn btn-link dropdown-toggle\"\n\t\t\t\t\t\t\t\t\tid=\"navbarDropdown\"\n\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{user.username}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div className=\"dropdown-menu dropdown-menu-right\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"dropdown-item\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSign out\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/auth/sign-up\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/auth/sign-in\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n\nNavbar.propTypes = {\n\tuser: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]).isRequired,\n\tsignOut: PropTypes.func.isRequired,\n};\n\nexport default Navbar;\n","import PropTypes from 'prop-types';\n\nfunction Flashes({ flashes, onFlashDelete }) {\n\treturn (\n\t\t<>\n\t\t\t{flashes.map((flash) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={flash.id}\n\t\t\t\t\tclassName={`alert alert-${flash.type || 'danger'} alert-dismissible`}\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t>\n\t\t\t\t\t{flash.msg}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\tonClick={() => onFlashDelete(flash.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nFlashes.propTypes = {\n\tflashes: PropTypes.array.isRequired,\n\tonFlashDelete: PropTypes.func.isRequired,\n};\n\nexport default Flashes;\n","import { useEffect, useState } from 'react';\n\nconst useIsMounted = () => {\n\tconst [isMounted, setIsMouted] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsMouted(true);\n\t\treturn () => setIsMouted(false);\n\t}, []);\n\n\treturn isMounted;\n};\nexport default useIsMounted;\n","import PropTypes from 'prop-types';\n\nfunction LoadingBtn({ type, text, isLoading, loadingText, onClick }) {\n\treturn isLoading ? (\n\t\t<button type=\"button\" className={`btn btn-${type}`} disabled>\n\t\t\t<span\n\t\t\t\tclassName=\"spinner-border spinner-border-sm\"\n\t\t\t\trole=\"status\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></span>\n\t\t\t{loadingText}\n\t\t</button>\n\t) : (\n\t\t<button type=\"button\" className={`btn btn-${type}`} onClick={onClick}>\n\t\t\t{text}\n\t\t</button>\n\t);\n}\n\nLoadingBtn.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\tisLoading: PropTypes.bool.isRequired,\n\tloadingText: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default LoadingBtn;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport format from 'date-fns/format';\nimport pluralize from 'pluralize';\nimport useIsMounted from '../lib/useIsMounted';\nimport LoadingBtn from './LoadingBtn';\n\nfunction PostCard({ post, handlePostPublishedUpdate }) {\n\tconst isMounted = useIsMounted();\n\n\tconst [isUpdatingPostPublished, setIsUpdatingPostPublished] = useState(false);\n\n\tasync function handleLoadingBtnClick() {\n\t\tsetIsUpdatingPostPublished(true);\n\t\tawait handlePostPublishedUpdate(post);\n\t\tisMounted && setIsUpdatingPostPublished(false);\n\t}\n\n\treturn (\n\t\t<article className=\"card mb-2\">\n\t\t\t<div className=\"card-header d-flex justify-content-between\">\n\t\t\t\t<div>\n\t\t\t\t\t<h5 className=\"card-title\">{post.title}</h5>\n\t\t\t\t\t<p className=\"card-subtitle mb-2\">\n\t\t\t\t\t\t{post.author.firstName + ' ' + post.author.lastName}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"card-subtitle\">\n\t\t\t\t\t\t{format(new Date(post.createdAt), 'PPpp')}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<LoadingBtn\n\t\t\t\t\t\ttype={post.published ? 'danger' : 'warning'}\n\t\t\t\t\t\ttext={post.published ? 'Unpublish' : 'Publish'}\n\t\t\t\t\t\tisLoading={isUpdatingPostPublished}\n\t\t\t\t\t\tloadingText={'Updating...'}\n\t\t\t\t\t\tonClick={handleLoadingBtnClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<Link to={`/posts/${post._id}/edit`} className=\"ml-3\">\n\t\t\t\t\t\tEdit\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<p className=\"card-text\">{post.body}</p>\n\t\t\t\t<Link to={`/posts/${post._id}`} className=\"card-link\">\n\t\t\t\t\t{pluralize('comments', post.comments.length, true)}\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</article>\n\t);\n}\n\nPostCard.propTypes = {\n\tpost: PropTypes.object.isRequired,\n\thandlePostPublishedUpdate: PropTypes.func.isRequired,\n};\n\nexport default PostCard;\n","import PropTypes from 'prop-types';\nimport PostCard from './PostCard';\n\nfunction PostsCards({ posts, handlePostPublishedUpdate }) {\n\tconst Postcards = posts.map((post) => (\n\t\t<PostCard\n\t\t\tkey={post._id}\n\t\t\tpost={post}\n\t\t\thandlePostPublishedUpdate={handlePostPublishedUpdate}\n\t\t/>\n\t));\n\n\treturn <>{Postcards}</>;\n}\n\nPostsCards.propTypes = {\n\tposts: PropTypes.array.isRequired,\n\thandlePostPublishedUpdate: PropTypes.func.isRequired,\n};\n\nexport default PostsCards;\n","import { useState, useEffect } from 'react';\nimport useIsMounted from '../lib/useIsMounted';\nimport { getData, putPostPublished, handleExpressErr } from '../lib/helpers';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport PostsCards from './PostsCards';\n\nfunction Posts() {\n\tconst isMounted = useIsMounted();\n\n\tconst [posts, setPosts] = useState([]);\n\n\tconst [isFetchingPosts, setIsFetchingPosts] = useState(false);\n\n\tasync function handlePostPublishedUpdate(posts) {\n\t\tconst data = await putPostPublished(posts);\n\t\tif (data.err) {\n\t\t\thandleExpressErr(data.err);\n\t\t} else if (data.errors) {\n\t\t\twindow.flashes(data.errors);\n\t\t} else {\n\t\t\tconst updatedPost = data.post;\n\t\t\tif (isMounted && updatedPost._id) {\n\t\t\t\tsetPosts((prevPosts) => {\n\t\t\t\t\treturn prevPosts.map((prevPost) => {\n\t\t\t\t\t\tif (prevPost._id !== posts._id) {\n\t\t\t\t\t\t\treturn prevPost;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...prevPost,\n\t\t\t\t\t\t\t\tpublished: updatedPost.published,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tasync function fetchAndSetPosts() {\n\t\t\tasync function fetchPosts() {\n\t\t\t\ttry {\n\t\t\t\t\tconst data = await getData(`${process.env.REACT_APP_API_URL}/posts`);\n\t\t\t\t\tif (data.err) {\n\t\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn data.posts;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\twindow.flashes([\n\t\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isMounted) {\n\t\t\t\tsetIsFetchingPosts(true);\n\t\t\t\tconst posts = await fetchPosts();\n\t\t\t\tsetIsFetchingPosts(false);\n\t\t\t\tsetPosts(posts);\n\t\t\t}\n\t\t}\n\n\t\tfetchAndSetPosts();\n\t}, [isMounted]);\n\n\treturn isFetchingPosts ? (\n\t\t<div className=\"position-relative\" style={{ minHeight: '30em' }}>\n\t\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t\t</div>\n\t) : (\n\t\t<PostsCards\n\t\t\tposts={posts}\n\t\t\thandlePostPublishedUpdate={handlePostPublishedUpdate}\n\t\t/>\n\t);\n}\n\nexport default Posts;\n","import Posts from '../components/Posts';\n\nfunction PostsPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<Posts />\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PostsPage;\n","import PropTypes from 'prop-types';\n\nfunction SubmitBtn({ text, isSubmitting }) {\n\treturn isSubmitting ? (\n\t\t<button type=\"submit\" className=\"btn btn-primary w-100\" disabled>\n\t\t\t<span\n\t\t\t\tclassName=\"spinner-border spinner-border-sm\"\n\t\t\t\trole=\"status\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></span>\n\t\t\tSubmitting...\n\t\t</button>\n\t) : (\n\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\n\t\t\t{text}\n\t\t</button>\n\t);\n}\n\nSubmitBtn.defaultProps = {\n\ttext: 'Submit',\n};\n\nSubmitBtn.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tisSubmitting: PropTypes.bool.isRequired,\n};\n\nexport default SubmitBtn;\n","import PropTypes from 'prop-types';\nimport SubmitBtn from './SubmitBtn';\n\nfunction PostForm({\n\tstate,\n\tonInputChange,\n\tonSubmit,\n\tisSubmitting,\n\tsubmitBtnText,\n}) {\n\treturn (\n\t\t<form onSubmit={onSubmit}>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"title\"\n\t\t\t\t\tname=\"title\"\n\t\t\t\t\tvalue={state.title}\n\t\t\t\t\tonChange={onInputChange}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength={70}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"body\">Body</label>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"body\"\n\t\t\t\t\tname=\"body\"\n\t\t\t\t\tvalue={state.body}\n\t\t\t\t\tonChange={onInputChange}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength={1000}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\tid=\"published\"\n\t\t\t\t\tname=\"published\"\n\t\t\t\t\tchecked={state.published}\n\t\t\t\t\tonChange={onInputChange}\n\t\t\t\t/>\n\t\t\t\t<label className=\"form-check-label\" htmlFor=\"published\">\n\t\t\t\t\tPublished?\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<SubmitBtn text={submitBtnText} isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nPostForm.propTypes = {\n\tstate: PropTypes.object.isRequired,\n\tonInputChange: PropTypes.func.isRequired,\n\tonSubmit: PropTypes.func.isRequired,\n\tisSubmitting: PropTypes.bool.isRequired,\n\tsubmitBtnText: PropTypes.string.isRequired,\n};\n\nexport default PostForm;\n","import { useState } from 'react';\nimport useIsMounted from '../lib/useIsMounted';\nimport { uploadData, handleExpressErr } from '../lib/helpers';\nimport PostForm from '../components/PostForm';\n\nfunction NewPostPage() {\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\ttitle: '',\n\t\tbody: '',\n\t\tpublished: false,\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.type === 'checkbox' ? target.checked : target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleFormSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await uploadData(\n\t\t\t\t'POST',\n\t\t\t\t`${process.env.REACT_APP_API_URL}/posts`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tisMounted && setIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else if (data.errors) {\n\t\t\t\tconst { title, body, published } = data.post;\n\t\t\t\tisMounted && setState({ title, body, published });\n\t\t\t\twindow.flashes(data.errors);\n\t\t\t} else {\n\t\t\t\tsetState({ title: '', body: '', published: false });\n\t\t\t\twindow.flashes([{ msg: 'Post successfully created', type: 'success' }]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<PostForm\n\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\tonInputChange={handleInputChange}\n\t\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\tsubmitBtnText={'Submit'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default NewPostPage;\n","import { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport { getData, uploadData, handleExpressErr } from '../lib/helpers';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport PostForm from '../components/PostForm';\n\nfunction EditPostPage() {\n\tconst { postId } = useParams();\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\n\tconst [isFetchingEditPost, setIsFetchingEditPost] = useState(false);\n\tconst [state, setState] = useState({\n\t\ttitle: '',\n\t\tbody: '',\n\t\tpublished: false,\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.type === 'checkbox' ? target.checked : target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleFormSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await uploadData(\n\t\t\t\t'PUT',\n\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tisMounted && setIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else if (data.errors) {\n\t\t\t\tconst { title, body, published } = data.post;\n\t\t\t\tisMounted && setState({ title, body, published });\n\t\t\t\twindow.flashes(data.errors);\n\t\t\t} else {\n\t\t\t\tsetState({ title: '', body: '', published: false });\n\t\t\t\thistory.push('/');\n\t\t\t\twindow.flashes([{ msg: 'Post successfully updated', type: 'success' }]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tasync function fetchAndSetEditPost(postId) {\n\t\t\ttry {\n\t\t\t\tsetIsFetchingEditPost(true);\n\t\t\t\tconst data = await getData(\n\t\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}/edit`\n\t\t\t\t);\n\t\t\t\tsetIsFetchingEditPost(false);\n\t\t\t\tif (data.err) {\n\t\t\t\t\tif ([401, 404].includes(data.err.status)) {\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t}\n\t\t\t\t\thandleExpressErr(data);\n\t\t\t\t} else {\n\t\t\t\t\tconst { title, body, published } = data.post;\n\t\t\t\t\tsetState({ title, body, published });\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t\tfetchAndSetEditPost(postId);\n\t}, [postId, history]);\n\n\treturn isFetchingEditPost ? (\n\t\t<div className=\"bootstrap-spinner-container\">\n\t\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t\t</div>\n\t) : state.title ? (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<PostForm\n\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\tonInputChange={handleInputChange}\n\t\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\tsubmitBtnText={'Update'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : null;\n}\n\nexport default EditPostPage;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport format from 'date-fns/format';\nimport useIsMounted from '../lib/useIsMounted';\nimport LoadingBtn from './LoadingBtn';\n\nfunction PostComment({ postComment, handlePostCommentDelete }) {\n\tconst isMounted = useIsMounted();\n\n\tconst [isDeletingPostComment, setIsDeletingPostComment] = useState(false);\n\n\tasync function handleLoadingBtnClick() {\n\t\tsetIsDeletingPostComment(true);\n\t\tawait handlePostCommentDelete(\n\t\t\tpostComment.post._id || postComment.post,\n\t\t\tpostComment._id\n\t\t);\n\t\tisMounted && setIsDeletingPostComment(false);\n\t}\n\n\treturn (\n\t\t<li className=\"list-group-item d-flex justify-content-between\">\n\t\t\t<div>\n\t\t\t\t<p className=\"h6 mb-1\">\n\t\t\t\t\t{postComment.author.firstName + ' ' + postComment.author.lastName}\n\t\t\t\t</p>\n\t\t\t\t<p className=\"text-muted mb-2\">\n\t\t\t\t\t{format(new Date(postComment.createdAt), 'PPpp')}\n\t\t\t\t</p>\n\t\t\t\t<p className=\"mb-2\">{postComment.body}</p>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<LoadingBtn\n\t\t\t\t\ttype={'danger'}\n\t\t\t\t\ttext={'Delete'}\n\t\t\t\t\tisLoading={isDeletingPostComment}\n\t\t\t\t\tloadingText={'Deleting...'}\n\t\t\t\t\tonClick={handleLoadingBtnClick}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nPostComment.propTypes = {\n\tpostComment: PropTypes.object.isRequired,\n\thandlePostCommentDelete: PropTypes.func.isRequired,\n};\n\nexport default PostComment;\n","import PropTypes from 'prop-types';\nimport PostComment from './PostComment';\n\nfunction PostComments({ postComments, handlePostCommentDelete }) {\n\treturn postComments.length > 0 ? (\n\t\t<ul className=\"list-group\">\n\t\t\t{postComments.map((postComment) => (\n\t\t\t\t<PostComment\n\t\t\t\t\tkey={postComment._id}\n\t\t\t\t\tpostComment={postComment}\n\t\t\t\t\thandlePostCommentDelete={handlePostCommentDelete}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ul>\n\t) : null;\n}\n\nPostComments.propTypes = {\n\tpostComments: PropTypes.array.isRequired,\n\thandlePostCommentDelete: PropTypes.func.isRequired,\n};\n\nexport default PostComments;\n","import { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport {\n\tgetData,\n\tputPostPublished,\n\tdeletePostComment,\n\thandleExpressErr,\n} from '../lib/helpers';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport PostCard from '../components/PostCard';\nimport PostComments from '../components/PostComments';\n\nfunction PostPage() {\n\tconst history = useHistory();\n\n\tconst { postId } = useParams();\n\n\tconst isMounted = useIsMounted();\n\n\tconst [isFetchingPost, setIsFetchingPost] = useState(false);\n\tconst [post, setPost] = useState({ comments: [] });\n\tconst [isFetchingPostComments, setIsFetchingPostComments] = useState(false);\n\n\tasync function handlePostPublishedUpdate(post) {\n\t\tconst data = await putPostPublished(post);\n\t\tif (data.err) {\n\t\t\thandleExpressErr(data.err);\n\t\t} else if (data.errors) {\n\t\t\twindow.flashes(data.errors);\n\t\t} else {\n\t\t\tconst updatedPost = data.post;\n\t\t\tif (isMounted && updatedPost._id) {\n\t\t\t\tsetPost(updatedPost);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function updatePostComments(postId) {\n\t\tasync function fetchPostComments(postId) {\n\t\t\ttry {\n\t\t\t\tconst data = await getData(\n\t\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}/comments`\n\t\t\t\t);\n\t\t\t\tif (data.err) {\n\t\t\t\t\tif ([401, 404].includes(data.err.status)) {\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t}\n\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t} else {\n\t\t\t\t\treturn data.comments;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\tif (isMounted) {\n\t\t\tsetIsFetchingPostComments(true);\n\t\t\tconst postComments = await fetchPostComments(postId);\n\t\t\tsetIsFetchingPostComments(false);\n\t\t\tsetPost((prevPost) => ({ ...prevPost, comments: postComments }));\n\t\t}\n\t}\n\n\tasync function handlePostCommentDelete(postId, postCommentId) {\n\t\tconst data = await deletePostComment(postId, postCommentId);\n\t\tif (data.err) {\n\t\t\thandleExpressErr(data.err);\n\t\t} else {\n\t\t\tawait updatePostComments(postId);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tasync function fetchAndSetPost(postId) {\n\t\t\tasync function fetchPost(postId) {\n\t\t\t\ttry {\n\t\t\t\t\tconst data = await getData(\n\t\t\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}`\n\t\t\t\t\t);\n\t\t\t\t\tif (data.err) {\n\t\t\t\t\t\tif ([401, 404].includes(data.err.status)) {\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn data.post;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\twindow.flashes([\n\t\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetIsFetchingPost(true);\n\t\t\tconst post = await fetchPost(postId);\n\t\t\tsetIsFetchingPost(false);\n\t\t\tsetPost(post);\n\t\t}\n\n\t\tisMounted && fetchAndSetPost(postId);\n\t}, [history, isMounted, postId]);\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-8 position-relative\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t{isFetchingPost ? (\n\t\t\t\t\t\t\t<div className=\"position-relative\" style={{ minHeight: '30em' }}>\n\t\t\t\t\t\t\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : post._id ? (\n\t\t\t\t\t\t\t<PostCard\n\t\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\t\thandlePostPublishedUpdate={handlePostPublishedUpdate}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{isFetchingPostComments ? (\n\t\t\t\t\t\t\t<div className=\"position-relative\" style={{ minHeight: '10em' }}>\n\t\t\t\t\t\t\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PostComments\n\t\t\t\t\t\t\t\tpostComments={post.comments}\n\t\t\t\t\t\t\t\thandlePostCommentDelete={handlePostCommentDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PostPage;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport { uploadData, handleExpressErr } from '../lib/helpers';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignUpForm() {\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\tusername: '',\n\t\tpassword: '',\n\t\tconfirmPassword: '',\n\t\tadminPasscode: '',\n\t});\n\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await uploadData(\n\t\t\t\t'POST',\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users`,\n\t\t\t\t{ ...state, isAdminPasscodeRequired: true }\n\t\t\t);\n\t\t\tisMounted && setIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else if (data.errors) {\n\t\t\t\tisMounted &&\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tfirstName: data.userFormData.firstName,\n\t\t\t\t\t\tlastName: data.userFormData.lastName,\n\t\t\t\t\t\tusername: data.userFormData.username,\n\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\tconfirmPassword: '',\n\t\t\t\t\t\tadminPasscode: '',\n\t\t\t\t\t});\n\t\t\t\twindow.flashes(data.errors);\n\t\t\t} else {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'You have successfuly signed up', type: 'success' },\n\t\t\t\t]);\n\t\t\t\thistory.push('/');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"firstName\">First name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\tplaceholder=\"John\"\n\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\tvalue={state.firstName}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"255\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"lastName\">Last name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\tplaceholder=\"Doe\"\n\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\tvalue={state.lastName}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"255\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tplaceholder=\"johnDoe01\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tvalue={state.username}\n\t\t\t\t\trequired\n\t\t\t\t\tpattern=\"^[a-zA-Z0-9-_]+$\"\n\t\t\t\t\ttitle=\"Username can only contain letters, numbers, - and _'\"\n\t\t\t\t\tmaxLength=\"20\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"confirmPassword\">Password confirmation</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\tvalue={state.confirmPassword}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"adminPasscode\">Admin passcode</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"adminPasscode\"\n\t\t\t\t\tname=\"adminPasscode\"\n\t\t\t\t\tvalue={state.adminPasscode}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nexport default SignUpForm;\n","import SignUpForm from '../components/SignUpForm';\n\nfunction SignUpPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<SignUpForm />\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SignUpPage;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport { uploadData, handleExpressErr } from '../lib/helpers';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignInForm({ setUser }) {\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await uploadData(\n\t\t\t\t'POST',\n\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/sign-in`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tisMounted && setIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\tisMounted && setState((prevState) => ({ ...prevState, password: '' }));\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else {\n\t\t\t\tif (data.user && data.user.admin) {\n\t\t\t\t\tlocalStorage.setItem('jwt', data.token);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t\twindow.flashes([\n\t\t\t\t\t\t{ msg: 'You have successfuly signed in', type: 'success' },\n\t\t\t\t\t]);\n\t\t\t\t\thistory.push('/');\n\t\t\t\t} else {\n\t\t\t\t\tisMounted && setState({ username: '', password: '' });\n\t\t\t\t\twindow.flashes([\n\t\t\t\t\t\t{ msg: `Admin account is required`, type: 'warning' },\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tplaceholder=\"johnDoe01\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tvalue={state.username}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"20\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nSignInForm.propTypes = {\n\tsetUser: PropTypes.func.isRequired,\n};\n\nexport default SignInForm;\n","import SignInForm from '../components/SignInForm';\n\nfunction SignInPage({ setUser }) {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<SignInForm setUser={setUser} />\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SignInPage;\n","import { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { getData } from './lib/helpers';\nimport Bus from './utils/Bus';\nimport BootstrapSpinner from './components/BootstrapSpinner';\nimport Navbar from './components/Navbar';\nimport Flashes from './components/Flashes';\nimport PostsPage from './pages/PostsPage';\nimport NewPostPage from './pages/NewPostPage';\nimport EditPostPage from './pages/EditPostPage';\nimport PostPage from './pages/PostPage';\nimport SignUpPage from './pages/SignUpPage';\nimport SignInPage from './pages/SignInPage';\nimport './App.css';\n\nfunction App() {\n\tconst history = useHistory();\n\n\tconst [flashes, setFlashes] = useState([]);\n\tconst [user, setUser] = useState(null);\n\n\tfunction signOut() {\n\t\tlocalStorage.removeItem('jwt');\n\t\tsetUser(false);\n\t\twindow.flashes([\n\t\t\t{ msg: 'You have successfully signed out', type: 'success' },\n\t\t]);\n\t\thistory.push('/');\n\t}\n\n\tfunction handleFlashDelete(flashId) {\n\t\tconst newFlashes = flashes.filter((flash) => flash.id !== flashId);\n\t\tsetFlashes(newFlashes);\n\t}\n\n\tuseEffect(() => {\n\t\tBus.addListener('flashes', (flashes) => {\n\t\t\tconst flashesWithId = flashes.map((flash) => ({\n\t\t\t\t...flash,\n\t\t\t\tid: nanoid(),\n\t\t\t}));\n\t\t\tsetFlashes(flashesWithId);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\twindow.flashes = (flashes) => Bus.emit('flashes', flashes);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (flashes.length > 0) {\n\t\t\tconst timeoutId = setTimeout(() => setFlashes([]), 4000);\n\t\t\treturn () => clearTimeout(timeoutId);\n\t\t}\n\t}, [flashes]);\n\n\tuseEffect(() => {\n\t\tasync function fetchAndSetUser() {\n\t\t\tconst data = await getData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users/current-user`\n\t\t\t);\n\t\t\tif (data.user && data.user.admin) {\n\t\t\t\tsetUser(data.user);\n\t\t\t} else {\n\t\t\t\tlocalStorage.removeItem('jwt');\n\t\t\t\tsetUser(false);\n\t\t\t}\n\t\t}\n\t\tfetchAndSetUser();\n\t\tconst intervalId = setInterval(fetchAndSetUser, 30000);\n\t\treturn () => clearInterval(intervalId);\n\t}, []);\n\n\treturn user === null ? (\n\t\t<BootstrapSpinner type={'grow'} size={'3em'} />\n\t) : (\n\t\t<>\n\t\t\t<Navbar user={user} signOut={signOut} />\n\t\t\t{flashes.length > 0 && (\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t\t\t<Flashes flashes={flashes} onFlashDelete={handleFlashDelete} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<main>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Redirect to=\"/posts\" />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts\">\n\t\t\t\t\t\t{user ? <PostsPage /> : <Redirect to=\"/auth/sign-in\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts/new\">\n\t\t\t\t\t\t{user ? <NewPostPage /> : <Redirect to=\"/auth/sign-in\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts/:postId\">\n\t\t\t\t\t\t{user ? <PostPage /> : <Redirect to=\"/auth/sign-in\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts/:postId/edit\">\n\t\t\t\t\t\t{user ? <EditPostPage /> : <Redirect to=\"/auth/sign-in\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/auth/sign-up\">\n\t\t\t\t\t\t{user ? <Redirect to=\"/\" /> : <SignUpPage />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/auth/sign-in\">\n\t\t\t\t\t\t{user ? <Redirect to=\"/\" /> : <SignInPage setUser={setUser} />}\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import dotenv from 'dotenv';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport 'bootswatch/dist/litera/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndotenv.config();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}